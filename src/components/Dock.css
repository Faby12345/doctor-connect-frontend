/* ======================================================
   Liquid Glass Dock — FIXED layout + icons-only motion
   ====================================================== */
:root{
    /* sizing */
    --item-size: 56px;
    --icon-size: 28px;
    --hover-scale: 1.22;

    /* glass palette */
    --lg-glass-0: rgba(255,255,255,.14);
    --lg-glass-1: rgba(255,255,255,.22);
    --lg-glass-2: rgba(255,255,255,.06);
    --lg-stroke  : rgba(255,255,255,.45);
    --lg-stroke-in: rgba(255,255,255,.75);

    /* accent */
    --lg-accent-0: #2d6cdf;
    --lg-accent-1: #60a5fa;

    /* fx */
    --lg-blur: 18px;
    --lg-radius: 20px;
    --lg-gap: .85rem;
    --lg-pad-x: .65rem;
    --lg-pad-y: .60rem;
    --lg-shadow: 0 22px 40px rgba(2,6,23,.30), 0 8px 20px rgba(2,6,23,.18);

    /* subtle noise */
    --lg-noise: url("data:image/svg+xml;utf8,\
  <svg xmlns='http://www.w3.org/2000/svg' width='120' height='120' viewBox='0 0 120 120'>\
    <filter id='n'><feTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='2' stitchTiles='stitch'/></filter>\
    <rect width='120' height='120' filter='url(%23n)' opacity='.18'/>\
  </svg>");
}

/* ==== Fixed bar at bottom, centered ==== */
.dock-outer{
    position: fixed;
    left: 50%;
    bottom: 14px;
    transform: translateX(-50%);
    width: max-content;                 /* IMPORTANT */
    max-width: calc(100% - 24px);
    z-index: 1000;
    pointer-events: none;                /* only inner content is interactive */
}

/* ==== The panel (liquid glass) — layout included ==== */
.dock-panel{
    pointer-events: auto;
    display: flex;                       /* IMPORTANT */
    flex-wrap: nowrap;                   /* IMPORTANT: keep in one row */
    align-items: flex-end;
    gap: var(--lg-gap);
    padding: var(--lg-pad-y) calc(var(--lg-pad-x) + 2px);
    width: max-content;                  /* IMPORTANT: shrink to content */
    white-space: nowrap;                 /* avoid wrapping due to whitespace */
    border-radius: var(--lg-radius);
    background:
            radial-gradient(140% 100% at 10% 0%, rgba(96,165,250,.18), transparent 55%),
            radial-gradient(140% 100% at 90% 100%, rgba(45,108,223,.20), transparent 50%),
            linear-gradient(180deg, var(--lg-glass-1), var(--lg-glass-2)),
            var(--lg-glass-0);
    border: 1px solid var(--lg-stroke);
    box-shadow: var(--lg-shadow);
    backdrop-filter: blur(var(--lg-blur)) saturate(1.25);
    -webkit-backdrop-filter: blur(var(--lg-blur)) saturate(1.25);
    position: relative;
    isolation: isolate;
    overflow: visible;                   /* icons can rise above */
    transform: translateZ(0);            /* anti-jitter */
}

/* glossy/caustics layer */
.dock-panel::before{
    content:"";
    position:absolute; inset:1px;
    border-radius: calc(var(--lg-radius) - 1px);
    background:
            radial-gradient(180px 90px at 20% 10%, rgba(255,255,255,.35), transparent 60%),
            radial-gradient(160px 80px at 85% 80%, rgba(255,255,255,.20), transparent 60%),
            conic-gradient(from 0turn, rgba(255,255,255,.08), transparent 60%, rgba(255,255,255,.08));
    mix-blend-mode: screen;
    opacity:.65;
    filter: blur(10px);
    animation: lg-sway 10s ease-in-out infinite alternate;
    pointer-events:none;
}
.dock-panel::after{
    content:"";
    position:absolute; inset:0;
    border-radius: inherit;
    background-image: var(--lg-noise);
    background-size: 220px 220px;
    mix-blend-mode: soft-light;
    opacity:.12;
    pointer-events:none;
}

/* ==== Buttons: fixed size; the button itself does NOT move ==== */
.dock-item{
    position: relative;
    width: var(--item-size);
    height: var(--item-size);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border-radius: 16px;
    background:
            radial-gradient(140% 120% at 50% 0%, rgba(255,255,255,.28), transparent 55%),
            linear-gradient(180deg, rgba(96,165,250,.35), rgba(45,108,223,.35)),
            rgba(255,255,255,.10);
    border: 1px solid rgba(255,255,255,.40);
    box-shadow:
            0 10px 22px rgba(2,6,23,.25),
            inset 0 1px 0 var(--lg-stroke-in);
    backdrop-filter: blur(calc(var(--lg-blur) * .75)) saturate(1.15);
    -webkit-backdrop-filter: blur(calc(var(--lg-blur) * .75)) saturate(1.15);
    overflow: hidden;
    cursor: pointer;
    transition: box-shadow .25s ease, background .25s ease;
}
.dock-item::after{
    content:"";
    position:absolute; inset:-1px;
    background: linear-gradient(120deg, transparent 20%, rgba(255,255,255,.55) 35%, transparent 55%);
    transform: translateX(-120%);
    transition: transform .6s cubic-bezier(.22,.61,.36,1);
    pointer-events:none;
    mix-blend-mode: screen;
}
.dock-item:hover::after,
.dock-item:focus-visible::after{ transform: translateX(0%); }
.dock-item:hover{
    box-shadow:
            0 16px 34px rgba(2,6,23,.34),
            inset 0 1px 0 var(--lg-stroke-in);
}

/* ==== Icon — the ONLY thing that moves/scales ==== */
.dock-icon{ display:grid; place-items:center; overflow:visible; }
.dock-icon svg{
    width: var(--icon-size);
    height: var(--icon-size);
    transform-origin: bottom center;
    transition: transform 200ms ease, filter 200ms ease;
    backface-visibility: hidden;
}
.dock-item:hover .dock-icon svg,
.dock-item:focus-visible .dock-icon svg{
    transform: translateY(-2px) scale(var(--hover-scale));
    filter: drop-shadow(0 8px 14px rgba(0,0,0,.25));
}

/* ==== Tooltip (small glass chip) ==== */
.dock-label{
    position: absolute;
    left: 50%;
    bottom: calc(100% + 10px);
    transform: translateX(-50%) translateY(6px);
    padding: .22rem .55rem;
    font-size: .78rem;
    font-weight: 600;
    color: #0b1020;
    white-space: nowrap;
    border-radius: 8px;
    border: 1px solid rgba(255,255,255,.55);
    background: linear-gradient(180deg, rgba(255,255,255,.95), rgba(255,255,255,.78));
    backdrop-filter: blur(8px) saturate(1.2);
    -webkit-backdrop-filter: blur(8px) saturate(1.2);
    box-shadow: 0 10px 22px rgba(2,6,23,.22);
    opacity: 0;
    pointer-events: none;
    transition: opacity 180ms ease, transform 180ms ease;
}
.dock-item:hover .dock-label,
.dock-item:focus-visible .dock-label{
    opacity:1;
    transform: translateX(-50%) translateY(0);
}

/* Anim & accessibility */
@keyframes lg-sway{
    0%{ transform: translateY(0) translateX(0) rotate(0.0001deg); }
    100%{ transform: translateY(-6px) translateX(4px) rotate(0.0001deg); }
}
@media (max-width: 560px){
    :root{
        --item-size: 50px; --icon-size: 26px; --hover-scale: 1.15; --lg-radius: 18px;
    }
}
@media (prefers-reduced-motion: reduce){
    .dock-panel::before, .dock-item::after, .dock-label, .dock-icon svg{ transition:none !important; animation:none !important; }
}
